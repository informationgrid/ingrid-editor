{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "GeoDatasetHmdk#1.0.0",
  "$ref": "#/definitions/GeoDatasetHmdk",
  "definitions": {
    "GeoDatasetHmdk": {
      "allOf": [
        {
          "$ref": "../geo-dataset.schema.json#/definitions/GeoDataset"
        },
        {
          "if": {
            "properties": {
              "isAdVCompatible": {
                "const": true
              }
            }
          },
          "then": {
            "anyOf": [
              {
                "properties": {
                  "isAdVCompatible": {
                    "const": null
                  }
                }
              },
              {
                "allOf": [
                  {
                    "properties": {
                      "advProductGroups": {
                        "minItems": 1
                      }
                    },
                    "required": ["advProductGroups"]
                  }
                ]
              }
            ]
          }
        },
        {
          "if": {
            "properties": {
              "isOpenData": {
                "const": true
              }
            }
          },
          "then": {
            "anyOf": [
              {
                "properties": {
                  "isOpenData": {
                    "const": null
                  }
                }
              },
              {
                "allOf": [
                  {
                    "properties": {
                      "informationHmbTG": {
                        "minItems": 1
                      }
                    },
                    "required": ["informationHmbTG"]
                  },
                  {
                    "properties": {
                      "openDataCategories": {
                        "minItems": 1
                      }
                    },
                    "required": ["openDataCategories"]
                  },
                  {
                    "properties": {
                      "references": {
                        "type": "array",
                        "items": {
                          "type": "object"
                        },
                        "contains": {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "object",
                              "properties": {
                                "key": {
                                  "type": "string",
                                  "const": "9990"
                                }
                              },
                              "required": ["key"]
                            }
                          },
                          "required": ["type"]
                        }
                      }
                    }
                  },
                  {
                    "properties": {
                      "pointOfContact": {
                        "type": "array",
                        "items": {
                          "type": "object"
                        },
                        "contains": {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "object",
                              "properties": {
                                "key": {
                                  "type": "string",
                                  "const": "10"
                                }
                              },
                              "required": ["key"]
                            }
                          },
                          "required": ["type"]
                        }
                      }
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "if": {
            "properties": {
              "hvd": {
                "const": true
              }
            }
          },
          "then": {
            "anyOf": [
              {
                "properties": {
                  "hvd": {
                    "const": null
                  }
                }
              },
              {
                "allOf": [
                  {
                    "properties": {
                      "hvdCategories": {
                        "minItems": 1
                      }
                    },
                    "required": ["hvdCategories"]
                  },
                  {
                    "properties": {
                      "isOpenData": {
                        "const": true
                      }
                    }
                  }
                ]
              }
            ]
          }
        }
      ],
      "properties": {
        "isAdVCompatible": true,
        "hvd": true,
        "hvdCategories": true,
        "isOpenData": true,
        "isInspireIdentified": true,
        "isInspireConform": true,
        "subType": true,
        "identifier": true,
        "spatialRepresentationType": true,
        "vectorSpatialRepresentation": true,
        "topicCategories": true,
        "description": true,
        "alternateTitle": true,
        "parentIdentifier": true,
        "pointOfContact": true,
        "advProductGroups": true,
        "themes": true,
        "spatial": true,
        "temporal": true,
        "resolution": true,
        "lineage": true,
        "qualities": true,
        "portrayalCatalogueInfo": true,
        "featureCatalogueDescription": true,
        "extraInfo": true,
        "metadata": true,
        "resource": true,
        "keywords": true,
        "digitalTransferOptions": true,
        "distribution": true,
        "dataset": true,
        "dataQuality": true,
        "dataQualityInfo": true,
        "absoluteExternalPositionalAccuracy": true,
        "priorityDatasets": true,
        "invekos": true,
        "invekosKeywords": true,
        "spatialScope": true,
        "maintenanceInformation": true,
        "references": true,
        "graphicOverviews": true,
        "orderInfo": true,
        "service": true,
        "conformanceResult": true,
        "gridSpatialRepresentation": true,
        "openDataCategories": true,
        "title": true,
        "_uuid": true,
        "_type": true,
        "publicationHmbTG": {
          "type": ["null", "boolean"]
        },
        "informationHmbTG": {
          "type": "array",
          "items": {
            "$ref": "../../../general.schema.json#/definitions/KeyValue"
          }
        }
      },
      "additionalProperties": false
    }
  }
}
