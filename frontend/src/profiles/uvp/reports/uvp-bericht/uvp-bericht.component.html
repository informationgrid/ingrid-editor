<page-template-no-header label="UVP Bericht" class="white">
    <div left-side>
        <ige-facets
            [formControl]="facetForm"
            [facets]="facets"
            [forAddresses]="false"
            [forReports]="true"
        ></ige-facets>
    </div>
    <div main-content class="flex-col gap-24">
        <div class="download-button">
            <button
                mat-stroked-button
                color="primary"
                class="button-square-icon padding-btn"
                (click)="downloadReport()"
                [disabled]="!report"
            >
                <mat-icon color="primary">download_outline</mat-icon>
                <span class="btn-title">Bericht herunterladen</span>
            </button>
        </div>
        <ige-card-box class="flex-1" label="Kennzahlen">
            <table
                mat-table
                [dataSource]="dataSourceMiscellaneous"
                class="width-100"
            >
                <ng-container matColumnDef="type">
                    <th mat-header-cell *matHeaderCellDef>Art</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.type }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="value">
                    <th mat-header-cell *matHeaderCellDef>Wert</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.value }}
                    </td>
                </ng-container>
                <tr
                    mat-header-row
                    *matHeaderRowDef="displayedColumnsMiscellaneous"
                ></tr>
                <tr
                    mat-row
                    *matRowDef="let row; columns: displayedColumnsMiscellaneous"
                ></tr>
            </table>
        </ige-card-box>

        <ige-card-box class="flex-1" label="Verwendete UVP Nummern">
            <table
                mat-table
                [dataSource]="dataSource"
                matSort
                class="width-100"
            >
                <ng-container matColumnDef="eiaNumber">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        UVP Nummer
                    </th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.eiaNumber }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="eiaCategory">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        UVP-G Kategorie
                    </th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.eiaCategory }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="count">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        Anzahl
                    </th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.count }}
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr
                    mat-row
                    *matRowDef="let row; columns: displayedColumns"
                ></tr>
            </table>
        </ige-card-box>
    </div>
</page-template-no-header>
