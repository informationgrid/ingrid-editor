<ng-container *ngIf="field.fieldGroup.length > 0">
    <div
        *ngFor="let currentField of field.fieldGroup; let i = index"
        class="steps"
        [class.mat-elevation-z4]="markSection[i]"
    >
        <formly-field [field]="currentField"></formly-field>
        <button
            class="btnRemove"
            mat-icon-button
            color="warn"
            (click)="removeSection(i)"
            (mouseenter)="markSection[i] = true"
            (mouseleave)="markSection[i] = false"
        >
            <mat-icon>close</mat-icon>
        </button>
    </div>
</ng-container>

<button
    mat-stroked-button
    class="button-square-icon padding-btn"
    [matMenuTriggerFor]="menu"
>
    <mat-icon>add</mat-icon>
    <span class="btn-title">Schritt Hinzuf√ºgen</span>
</button>

<mat-menu #menu="matMenu">
    <button
        *ngFor="let type of field.fieldArray.fieldGroup"
        mat-menu-item
        [attr.data-cy]="'add_step_' + type.name"
        (click)="addSection(type.name)"
    >
        <span>{{ type.templateOptions.label }}</span>
    </button>
</mat-menu>
