<ng-container *ngFor="let type of types">
    <div
        *ngFor="let location of typedLocations[type]"
        class="clickable small-padding-right wrapper"
        (click)="selectLocation.next(location.indexNumber)"
    >
        <mat-icon
            *ngIf="type !== 'geo-name'"
            [style.background-color]="location.color + '40'"
            [style.color]="location.color"
            ><div></div>
        </mat-icon>
        <mat-icon *ngIf="type === 'geo-name'" svgIcon="tag"></mat-icon>

        <div
            class="description flex-row"
            *transloco="let t; read: 'spatial.types'"
        >
            <div class="list-item-content">
                <div matLine class="spatial-type">
                    <span>{{ t(type) }}</span>
                </div>
                <div matLine class="spatial-title">
                    <span>{{ location.title }}</span>
                    <span *ngIf="location.type === 'wfsgnde' && location.ars">
                        (ARS: {{ location.ars }})
                    </span>
                </div>

                <div
                    *ngIf="
                        (location.type === 'free' ||
                            location.type === 'wfsgnde') &&
                        location.value
                    "
                    matLine
                    class="coordinates"
                >
                    <span
                        >SW Breite,Länge:
                        {{ location.value.lat1 | number : ".6" : "en-US" }}°,
                        {{
                            location.value.lon1 | number : ".6" : "en-US"
                        }}°</span
                    >
                    <span
                        >NO Breite,Länge:
                        {{ location.value.lat2 | number : ".6" : "en-US" }}°,
                        {{
                            location.value.lon2 | number : ".6" : "en-US"
                        }}°</span
                    >
                </div>

                <div *ngIf="location.type === 'wkt'" matLine>
                    {{ location.wkt }}
                </div>
            </div>
        </div>

        <button
            *ngIf="!disabled"
            type="button"
            mat-icon-button
            class="menu-button"
            [matMenuTriggerFor]="spatialRef"
            (click)="$event.stopPropagation()"
        >
            <mat-icon svgIcon="Mehr"></mat-icon>
        </button>
        <mat-menu #spatialRef="matMenu">
            <button
                mat-menu-item
                (click)="selectLocation.next(location.indexNumber)"
            >
                Anzeigen
            </button>
            <button mat-menu-item (click)="edit.next(location.indexNumber)">
                Bearbeiten
            </button>
            <button mat-menu-item (click)="confirmRemove(location)">
                Löschen
            </button>
        </mat-menu>
    </div>
</ng-container>
