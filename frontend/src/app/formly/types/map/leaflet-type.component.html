<div #leaflet [class.passive]="!hasAnyLocations"></div>

<div *ngIf="formControl.enabled" class="button-wrapper text-center" [class.has-spatial]="hasAnyLocations">
    <div *ngIf="!hasAnyLocations" class="spatialBtnText">
        Erstellen Sie einen Raumbezug<span *ngIf="to.required">*</span>
    </div>
    <button type="button" mat-fab class="spatialBtn" data-cy="spatialButton" color="primary" (click)="openSpatialDialog()"
            [ngClass]="{ 'has-error': formFieldControl.errorState && formControl.errors?.required }">
        <mat-icon svgIcon="spatial-rect"></mat-icon>
    </button>
</div>

<div *ngIf="mapHasMoved" class="resetBtn">
    <button type="button" mat-flat-button (click)="highlightLocation(null)">Zur체cksetzen</button>
</div>

<ige-form-error *ngIf="formFieldControl.errorState && formControl.errors?.required">Bitte erstellen Sie einen Raumbezug</ige-form-error>

<ige-spatial-list *ngIf="hasAnyLocations"
                  [locations]="locationsWithColor$"
                  [disabled]="formControl.disabled"
                  (selectLocation)="highlightLocation($event)"
                  (edit)="openSpatialDialog($event)"
                  (remove)="removeLocation($event)"></ige-spatial-list>

<div class="spatialHelpText">
    Erstellen Sie Informationen 체ber die r채umliche Zuordnung des beschriebenen Datenbestands. <a *ngIf="to.hasContextHelp" (click)="showContextHelp($event)">Hilfe zu Raumbez체gen</a>
</div>
