@if (data | async; as log) {
    <div class="log">
        <div class="date-area">
            <div>
                Startzeit: {{ log.startTime | date: "dd.LL.yyyy HH:mm:ss" }}
            </div>
            @if (log.endTime) {
                <div>
                    &nbsp;&nbsp;Endzeit:
                    {{ log.endTime | date: "dd.LL.yyyy HH:mm:ss" }}
                </div>
            }
        </div>
        @if (log.progressDocuments != log.numDocuments) {
            <div>
                Indizierung von Dokumenten
                <mat-progress-bar
                    color="primary"
                    mode="determinate"
                    [value]="(log.progressDocuments / log.numDocuments) * 100"
                ></mat-progress-bar>
                <div class="progress-hint">
                    {{ log.progressDocuments }} / {{ log.numDocuments }}
                </div>
            </div>
        } @else {
            <div>
                Anzahl Dokumente:
                <span data-cy="count-documents">{{ log.numDocuments }}</span>
            </div>
        }
        @if (log.progressAddresses != log.numAddresses) {
            <div style="padding-top: 24px">
                Indizierung von Adressen
                <mat-progress-bar
                    mode="determinate"
                    [value]="(log.progressAddresses / log.numAddresses) * 100"
                ></mat-progress-bar>
                <div class="progress-hint">
                    {{ log.progressAddresses }} / {{ log.numAddresses }}
                </div>
            </div>
        } @else {
            <div>
                Anzahl Adressen:
                <span data-cy="count-addresses">{{ log.numAddresses }}</span>
            </div>
        }
        @if (log.errors?.length > 0) {
            <div>
                Fehler:
                <span data-cy="count-errors">{{ log.errors.length }}</span>
                <ul>
                    @for (error of log.errors; track error) {
                        <li>{{ error }}</li>
                    }
                </ul>
            </div>
        }
    </div>
} @else {
    Keine Logausgabe vorhanden.
}
