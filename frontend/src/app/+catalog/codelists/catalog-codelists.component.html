<page-template label="Katalogspezifische Codelisten">
    <ng-container left-side>
        <div>
            Sie haben hier die Möglichkeit bestehende Codelisten anzupassen. Diese Änderungen sind nur in diesem
            Katalog
            sichtbar. Wenn diese Änderungen auch in anderen Katalogen oder im Portal verwendet werden sollen,
            dann muss
            dies im Codelist-Repository geschehen.
        </div>

        <div>
            Ein Codelisteneintrag kann optional als Defaultwert eingestellt werden. Bei einem neuen Dokument,
            wird das
            Feld, welches diese Codeliste verwendet, bereits den ausgewählten Eintrag vorausgewählt haben.
        </div>
    </ng-container>

    <div main-header fxLayout="row" fxLayoutAlign="center" fxFlex>
        <p *ngIf="(hasCatalogCodelists | async) === false">
            In diesem Katalog gibt es keine spezifischen Codelisten. Alle Codelisten können
            über das zentrale Codelist-Repository verwaltet werden.
        </p>

        <mat-form-field appearance="outline" class="white-bg" style="flex: 1; max-width: 600px">
            <mat-select (selectionChange)="selectCodelist($event.value)" [value]="initialValue">
                <mat-option *ngFor="let codelist of catalogCodelists | async" [value]="codelist">
                    {{codelist.label}} ({{codelist.value}})
                </mat-option>
            </mat-select>
            <mat-hint>{{selectedCodelist?.description}}</mat-hint>
        </mat-form-field>
    </div>

    <div main-content *ngIf="(hasCatalogCodelists | async) === true" fxFlex>

        <div fxLayoutAlign="end end" fxLayoutGap="12px">
            <button mat-flat-button mat-stroked-button (click)="resetCodelist()">Zurücksetzen</button>
            <button mat-flat-button color="primary" (click)="addCodelist()">Hinzufügen</button>
        </div>

        <ige-codelist-presenter [codelist]="selectedCodelist"
                                (edit)="editCodelist($event)"
                                (remove)="removeCodelist($event)"
                                (setDefault)="setAsDefault($event)"></ige-codelist-presenter>
    </div>
</page-template>




