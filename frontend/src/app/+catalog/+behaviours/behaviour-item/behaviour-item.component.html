<mat-card appearance="outlined" class="mat-elevation-z0">
    <mat-card-header>
        <mat-card-title>{{ title }}</mat-card-title>
        @if (description) {
            <div matCardSubtitle [innerHTML]="description"></div>
        }

        <div class="flex-1"></div>

        <mat-slide-toggle
            [formControl]="control.active"
            (change)="updateFieldState($event.checked)"
        ></mat-slide-toggle>
    </mat-card-header>

    @if (control.fields.length > 0) {
        <mat-card-content>
            <formly-form
                [form]="control.form"
                [fields]="control.fields"
                [model]="control.data"
            ></formly-form>
        </mat-card-content>
    }
</mat-card>
