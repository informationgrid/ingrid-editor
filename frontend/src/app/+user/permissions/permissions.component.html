<div
    [formGroup]="formGroup"
    fxLayout="column"
    style="max-height: unset"
    *transloco="let t; read: 'group'"
>
    <div fxFlex fxLayout="column" fxLayoutGap="12px" fxLayoutAlign="end end">
        <mat-slide-toggle
            [disabled]="disabled"
            *ngIf="showRootReadSlider"
            labelPosition="before"
            (change)="toggleRootPermission()"
            [formControl]="rootPermissionRead"
            title="Wenn aktiviert, können alle {{
                t('form')
            }} und Adressen gelesen werden."
            >Allgemeines Leserecht
        </mat-slide-toggle>
        <mat-slide-toggle
            [disabled]="disabled"
            *ngIf="showRootWriteSlider"
            labelPosition="before"
            (change)="toggleRootPermission()"
            [formControl]="rootPermissionWrite"
            title="Wenn aktiviert, können alle {{
                t('form')
            }} und Adressen gelesen und bearbeitet werden."
            >Allgemeines Schreibrecht
        </mat-slide-toggle>
    </div>
    <div
        *ngIf="this.rootPermissionRead.value || this.rootPermissionWrite.value"
        class="no-fields-selected-notice"
    >
        <div class="infoIcon">
            <mat-icon
                class="material-icons-outlined"
                svgIcon="info-24px"
            ></mat-icon>
        </div>
        <span>
            Allgemeine Berechtigung aktiviert.
            {{
                this.rootPermissionWrite.value
                    ? " Das allgemeine Schreibrecht überschreibt die Tabellenrechte."
                    : ""
            }}
        </span>
    </div>
    <permission-table
        [disabled]="disabled"
        formControlName="documents"
        label="Berechtigungen {{ t('form') }}"
        data-cy="Berechtigungen Daten"
    ></permission-table>
    <permission-table
        [disabled]="disabled"
        formControlName="addresses"
        label="Berechtigungen Adressen"
        data-cy="Berechtigungen Adressen"
        [forAddress]="true"
    ></permission-table>
</div>
