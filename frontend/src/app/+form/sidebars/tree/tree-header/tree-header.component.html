<div
    *ngIf="multiSelectionModeEnabled"
    class="multi-select-area"
    fxLayoutAlign="space-between center"
>
    <mat-checkbox
        data-cy="toggle-all-selection"
        matTooltip="Alle Aus-/AbwÃ¤hlen"
        [checked]="checkToggleAll"
        [indeterminate]="indeterminateToggleAll"
        (change)="toggleAllSelection.next($event.checked)"
        >Alle
    </mat-checkbox>
    <button
        mat-icon-button
        matSuffix
        class="close"
        (click)="deactivateMultiSelection()"
        data-cy="exit-multi-select-mode"
    >
        <mat-icon svgIcon="Entfernen"></mat-icon>
    </button>
</div>

<div class="header" fxLayout="column">
    <div
        *ngIf="showOptions && !multiSelectionModeEnabled"
        class="options"
        fxLayout="row wrap-reverse"
        fxLayoutAlign="space-between"
    >
        <div class="multi-select" *ngIf="showMultiSelectButton">
            <mat-checkbox
                data-cy="edit-button"
                matTooltip="Mehrfachauswahl"
                (click)="activateMultiSelection()"
            >
                Auswahl
            </mat-checkbox>
        </div>

        <div fxFlex fxLayout="row">
            <div fxFlex="3 1 auto"></div>
            <!--            <mat-slide-toggle
                class="show-all"
                checked
                (change)="toggleView.emit($event.checked)"
                >Alle anzeigen
            </mat-slide-toggle>-->

            <button
                *ngIf="showReloadButton"
                mat-icon-button
                data-cy="reload-button"
                class="reload-button"
                matTooltip="Aktualisieren"
                (click)="reloadTree()"
            >
                <mat-icon>refresh</mat-icon>
            </button>
        </div>
    </div>

    <div *ngIf="showSearch" data-cy="tree-search-field">
        <ige-search-input
            [autocompleteRef]="searchAuto"
            [searchSub]="searchSub"
            [query]="query"
            placeholder="Suchen"
            showSearchIcon="true"
        ></ige-search-input>

        <mat-autocomplete
            #searchAuto="matAutocomplete"
            class="quicksearch-auto-tree dense"
        >
            <mat-option
                *ngFor="let doc of searchResult | async"
                (onSelectionChange)="loadResultDocument(doc)"
            >
                <ige-document-list-item [doc]="doc"></ige-document-list-item>
            </mat-option>
        </mat-autocomplete>
    </div>
</div>
