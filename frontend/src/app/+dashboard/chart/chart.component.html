<div fxFlex fxLayout="column" *ngIf="dataMap | async as dataSeq">
    <svg viewBox="0 0 36 36" class="circular-chart">
        <path
            *ngIf="dataSeq.first"
            class="circle circle-1"
            attr.stroke-dasharray="{{
                calculateAdjustedStrokeDash(dataSeq.second)
            }}, {{ calculateStrokeDash(dataSeq.first) }}"
            d="M18 2.0845
          a 15.9155 15.9155 0 0 1 0 31.831
          a 15.9155 15.9155 0 0 1 0 -31.831"
        ></path>
        <path
            *ngIf="dataSeq.second"
            class="circle circle-2"
            attr.stroke-dasharray="0, {{
                calculateStrokeDash(dataSeq.second)
            }}, {{ calculateAdjustedStrokeDash(dataSeq.first) }}"
            d="M18 2.0845
          a 15.9155 15.9155 0 0 1 0 31.831
          a 15.9155 15.9155 0 0 1 0 -31.831"
        ></path>
        <path
            class="circle circle-3"
            stroke-dasharray="0.4, 99.2, 0.4"
            d="M18 2.0845
          a 15.9155 15.9155 0 0 1 0 31.831
          a 15.9155 15.9155 0 0 1 0 -31.831"
        ></path>
        <text
            class="text"
            x="18.5"
            y="19"
            dominant-baseline="middle"
            text-anchor="middle"
        >
            {{ total }}
        </text>
    </svg>

    <div
        class="wrapper"
        fxFlex
        fxLayout="row"
        [class.inline]="showPercentages && total > 0"
        fxLayoutAlign="space-between"
    >
        <div class="box working">
            <div class="count">{{ dataSeq.first }}</div>
            <div>In Bearbeitung</div>
            <div *ngIf="showPercentages && total > 0" class="count">
                {{ (dataSeq.first / total) * 100 ?? 0 | number: "1.0-0" }}%
            </div>
        </div>

        <div class="box">
            <div class="count">{{ dataSeq.second }}</div>
            <div>Ver√∂ffentlicht</div>
            <div *ngIf="showPercentages && total > 0" class="count">
                {{ (dataSeq.second / total) * 100 ?? 0 | number: "1.0-0" }}%
            </div>
        </div>
    </div>
</div>
