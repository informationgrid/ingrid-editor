<ng-container>
    @if (message; as log) {
        <div class="info-wrapper">
            @if (log.errors?.length > 0) {
                <mat-icon
                    class="error-color"
                    matTooltip="Bei der letzten Ausführung trat ein Fehler auf"
                    >error_outline
                </mat-icon>
            }
            @if (!isRunning) {
                <span
                    >Letzte Ausführung erfolgte am
                    {{ log.startTime | date: "dd.LL.yyyy HH:mm" }}</span
                >
            } @else {
                <span>
                    <mat-progress-spinner
                        [value]="log.progress"
                        diameter="16"
                        [matTooltip]="log.progress + '% analysiert'"
                    ></mat-progress-spinner>
                </span>
                <span>
                    Laufende Ausführung seit:
                    {{ log.startTime | date: "dd.LL.yyyy HH:mm:ss" }}</span
                >
            }
            <button
                mat-icon-button
                class="dark menu-button"
                data-cy="btn-show-more"
                [class.expanded]="showMoreInternal"
                [matTooltip]="showMoreInternal ? 'Schließen' : 'Öffnen'"
                (click)="toggleShow()"
            >
                <mat-icon class="rotating animated"
                    >keyboard_arrow_down</mat-icon
                >
            </button>
        </div>
    }
    <ng-content></ng-content>
</ng-container>
