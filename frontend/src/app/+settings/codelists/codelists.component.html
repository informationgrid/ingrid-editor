<page-template label="Codelist Repository">
    <div left-side>
        Die Codelisten werden von einem zentralen Repository verwaltet und werden mit dem IGE NG synchronisiert.
    </div>

    <div main-header fxFlex fxLayoutAlign="center center">
        <div>
            Letzte Synchronisation erfolgte am ...
            <button mat-icon-button class="dark menu-button" [class.expanded]="showMore" (click)="showMore = !showMore">
                <mat-icon class="animated">keyboard_arrow_down</mat-icon>
            </button>
        </div>
        <div fxFlex></div>
        <div>
            <button mat-flat-button color="primary" (click)="updateCodelists()" [disabled]="disableSyncButton">
                Synchronisieren
            </button>
        </div>
    </div>

    <div *ngIf="showMore" status class="status">
        Letzte Information ...
    </div>

    <div main-content fxFlex>
        <div fxLayoutAlign="center" >
            <ige-filter-select [options]="codelists" class="white-bg" style="flex: 1; max-width: 460px"
                               [labelFormat]="codelistLabelFormat"
                               placeholder="Codeliste wÃ¤hlen..."
                               (reset)="resetInput()"
                               (optionSelect)="updateCodelistTable($event)"></ige-filter-select>
        </div>

        <div *ngIf="selectedCodelist?.description" class="description">
            <div class="section-title">Beschreibung</div>
            <div>{{selectedCodelist?.description}}</div>
        </div>

        <ige-codelist-presenter [codelist]="selectedCodelist"
                                [hideMenu]="true"></ige-codelist-presenter>

        <div *ngIf="!selectedCodelist" fxLayoutAlign="center" style="padding-top: 60px">
            <img src="assets/icons/codelist-repository.png" alt="codelist-repo">
        </div>

    </div>
</page-template>


