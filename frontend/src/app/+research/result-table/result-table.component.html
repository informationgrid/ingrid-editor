<!--<div fxFlex="1">-->
    <!--<mat-form-field appearance="outline" class="width-100">
        <mat-label>Spalten</mat-label>
        <mat-select multiple [(ngModel)]="displayedColumns">
            <mat-option *ngFor="let column of columnsMap"
                        [value]="column.value">{{column.label || column.value}}</mat-option>
        </mat-select>
    </mat-form-field>-->
    <!--<button mat-button [matMenuTriggerFor]="columns">Spalten</button>
    <mat-menu #columns="matMenu">
        <button *ngFor="let column of columnsMap" mat-menu-item (click)="toggleColumn(column.value)">{{column.label || column.value}}</button>
    </mat-menu>-->

    <div class="result-table-header">
        <div class="result">{{totalHits}} Dokumente gefunden</div>
        <div class="result-buttons">
            <button mat-button color="primary" (click)="save.emit()">
                Speichern
            </button>
            <mat-divider [vertical]="true"></mat-divider>
            <button mat-button color="primary" (click)="exporter.exportTable('csv', {fileName: 'research'})">CSV</button>
        </div>
    </div>
    <mat-divider></mat-divider>
    <table mat-table matTableExporter #exporter="matTableExporter" [dataSource]="dataSource" matSort
           class="width-100">

        <!--- Note that these columns can be defined in any order.
              The actual rendered columns are set as a property on the row definition" -->
        <ng-container *ngFor="let column of columnsMap" [matColumnDef]="column.value">
            <th mat-header-cell *matHeaderCellDef mat-sort-header [class.thin-column]="column.value === '_type'">
                {{column.label || column.value}}
            </th>
            <td mat-cell *matCellDef="let element" [ngSwitch]="column.value">
                <ng-container *ngSwitchCase="'_type'">
                    <!--                        <mat-icon [svgIcon]="profileIconsMap[element[column.value]]"></mat-icon>-->
                    <ige-document-icon [doc]="element"></ige-document-icon>
                </ng-container>
                <ng-container *ngSwitchCase="'_created'">
                    <ng-container *ngTemplateOutlet="dateColumn"></ng-container>
                </ng-container>
                <ng-container *ngSwitchCase="'_modified'">
                    <ng-container *ngTemplateOutlet="dateColumn"></ng-container>
                </ng-container>
                <ng-container *ngSwitchDefault>
                    {{element[column.value]}}
                </ng-container>
                <ng-template #dateColumn>
                    <div [title]="element[column.value]">{{element[column.value] | date}}</div>
                </ng-template>
            </td>
        </ng-container>

        <ng-container matColumnDef="settings">
            <th mat-header-cell *matHeaderCellDef class="thin-column">
                <!--<button mat-icon-button>
                    <mat-icon>settings</mat-icon>
                </button>-->
            </th>
            <td mat-cell *matCellDef="let element" class="settings">
                <button mat-icon-button class="table-options" [matMenuTriggerFor]="moreResult">
                    <mat-icon svgIcon="Mehr"></mat-icon>
                </button>
                <mat-menu #moreResult>
                    <button mat-menu-item disabled>Vorschau</button>
                    <button mat-menu-item (click)="open.emit(element.uuid)">Öffnen</button>
                    <button mat-menu-item disabled>Exportieren</button>
                    <button mat-menu-item (click)="remove.emit(element.uuid)">Löschen</button>
                </mat-menu>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons></mat-paginator>
<!--</div>-->
