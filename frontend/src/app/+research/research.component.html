<mat-tab-group animationDuration="0" [dynamicHeight]="true" class="page-tabs" [(selectedIndex)]="selectedIndex">

    <mat-tab label="Erweiterte Suche">
        <div fxLayout="row" fxLayoutGap="20px" class="tab-padding">

            <div fxLayout="column">
                <div class="page-title">Erweiterte Suche</div>
                <ige-facets [model]="filter.model"
                            [forAddresses]="searchClass === 'selectAddresses'"
                            (update)="updateFilter($event)"></ige-facets>
            </div>

            <div fxFlex fxLayout="column">

                <div fxLayout="row" class="white-bg">
                    <mat-form-field appearance="outline" style="min-width: 220px" class="straight-border-right prefix-text">
                        <span matPrefix class="prefix">Suche nach:</span>
                        <mat-select (selectionChange)="changeSearchClass($event)" [(ngModel)]="searchClass">
                            <mat-option value="selectDocuments">Dokumente</mat-option>
                            <mat-option value="selectAddresses">Adressen</mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="width-100 straight-border-left">
<!--                        <mat-label>Suche</mat-label>-->
                        <input matInput placeholder="Begriff, ID oder feldbezogene Suche eingeben ..." [formControl]="query">
                        <mat-hint>Für feldbezogene Suche den Feldtitel im Format "title: suchbegriff" eingeben</mat-hint>
                    </mat-form-field>
                </div>

                <ige-result-table [result]="result"
                                  (open)="loadDataset($event)"
                                  (save)="saveQuery()"></ige-result-table>

            </div>

        </div>
    </mat-tab>

    <mat-tab label="SQL Suche">
        <div fxLayout="row" fxLayoutGap="20px" class="tab-padding">

            <div fxLayout="column">
                <div class="page-title">
                    SQL Suche
                </div>
                <p>Hilfetext ...</p>
            </div>
            <ige-tab-sql (query)="queryBySQL($event)" fxFlex>
                <ige-result-table *ngIf="!error" [result]="result"></ige-result-table>

                <div *ngIf="error" class="error-container">
                    <div class="error-box">
                        Die SQL-Anfrage enthält einen Fehler
                    </div>
                    <div>
                        <div class="icon">
                            <mat-icon>error_outline</mat-icon>
                        </div>
                        <p class="message">Bitte korrigieren Sie Ihre Anfrage</p>
                        <div>{{error}}</div>
                    </div>
                </div>
            </ige-tab-sql>
        </div>
    </mat-tab>

    <mat-tab label="Gespeicherte Suchen">
        <div fxLayout="row" fxLayoutGap="20px" class="tab-padding">

            <div fxLayout="column">
                <div class="page-title">
                    Gespeicherte Suchen
                </div>
            </div>
            <ige-query-manager (selection)="loadQuery($event)"></ige-query-manager>
        </div>
    </mat-tab>
</mat-tab-group>


