<div [formGroup]="form"
     [class.has-error]="form.controls[field.key].invalid">

    <label *ngIf="!field.hideLabel" class="control-label" [attr.for]="field.key">{{field.label}}</label>

    <div [ngSwitch]="field.controlType">

        <!-- TEXTBOX -->
        <input *ngSwitchCase="'textbox'" [formControlName]="field.key" class="form-control"
               [id]="field.key" [attr.type]="field.type" [ngModel]="value[field.key]">

        <!-- CHECKBOX -->
        <div *ngSwitchCase="'checkbox'" class="checkbox">
            <label>
                <input [formControlName]="field.key" [id]="field.key" type="checkbox" [ngModel]="value[field.key]">
                {{field.label}}
            </label>
        </div>

        <!-- TODO: https://github.com/pleerock/ng2-radio-group -->
        <!-- RADIO BUTTON-->
        <span *ngSwitchCase="'radio'">
            <label *ngFor="let opt of field.options" class="radio-inline">
                <input [formControlName]="field.key" type="radio"
                       [value]="opt.value"
                       [ngModel]="value[field.key]"> {{opt.label}}
            </label>
        </span>

        <!-- SELECT -->
        <select [id]="field.key" *ngSwitchCase="'dropdown'" [formControlName]="field.key" class="form-control"
                [ngModel]="value[field.key]">
            <option *ngFor="let opt of field.options" [value]="opt.key">{{opt.value}}</option>
        </select>

        <!-- TEXTAREA -->
        <textarea *ngSwitchCase="'textarea'" rows="{{field.rows}}" [formControlName]="field.key" [id]="field.key"
                  class="form-control"
                  [ngModel]="value[field.key]">
        </textarea>

        <!-- TABLE -->
        <data-table *ngSwitchCase="'table'" [formControlName]="field.key" [id]="field.key" [columns]="field.columns"
                    [ngModel]="value[field.key]">
        </data-table>

        <open-table *ngSwitchCase="'opentable'" [formControlName]="field.key" [columns]="field.columns" [ngModel]="value[field.key]"></open-table>

        <!-- LEAFLET-->
        <leaflet *ngSwitchCase="'map'" [options]="field.options" [height]="field.height" [formControlName]="field.key"
                 [ngModel]="value[field.key]"></leaflet>

        <div class="alert alert-danger" [class.hide]="form.controls[field.key].valid || form.controls[field.key].untouched">{{showError(form.controls[field.key].errors)}}</div>
    </div>


</div>
